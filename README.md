# .NET Core Web API Starter Template

## Table of contents
* [General info](#general-info)
* [Technologies](#technologies)
* [Architecture](#architecture)
* [Setup](#setup)

## General info
This project is intended to provide core functionality for a .NET Core Web API using sound (albeit opinionated) architecture and popular NuGet packages used in modern .NET Core API development.
	
## Technologies
Project is created with:
* .NET Core 3.0 (based on [ApiBolierPlate](https://github.com/proudmonkey/ApiBoilerPlate))
* AutoWrapper
* AutoMapper
* FluentValidation
* Scrutor
* Serilog
* Swashbuckle

## Architecture
This starter template follows the onion architecture, although it is opionated in structure.

The onion architecture promotes loose coupling and abstracting between domain, business, and service layers.

From the API, the hierarchy is as follows:

API --> Service --> Repository --> Domain

We can describe the advantage of this architecture by spelling out the hierarchy from bottom up:

> Domain objects represent the database objects.

>The Repository layer has intimate knowledge of the objects and the data access rules necessary to translate the objects from the underlying data source.

>The Service layer interacts with the Repository layer (via interfaces) to perform business logic on the data to then present upward.  The Service layer may also call other services (via interfaces).

>The API Controllers serve as the Infrastructure layer, and generally call the Service layer (via interfaces).  The API Controllers can call the Repository layer (via interfaces) but this is only if there is little to no business logic applied.  General rule of thumb is to keep controller logic as light as possible... handle request, prepare response and status code.

For more information on the onion architecture, see [Understanding Onion Architecture](https://www.codeguru.com/csharp/csharp/cs_misc/designtechniques/understanding-onion-architecture.html)
	
## Setup
Build the template on your local machine, from the root project

```
$ dotnet new -i
```

The template is installed with shortname 'vbswebapi'

Now you can create your own project with your own namespace

```
$ dotnet new vbswebapi --help
```

```
VandenBrink Software Starter Web (C#)
Author: Steve VandenBrink
Options:                                                                              
  -ns|--namespace  The namespace to use for all source files generated by the template
                   string - Required                                                  
                   Default: API   
```

For example, if you want to create a new project with the RootNamepace as 'MyProject', run the following

```
$ dotnet new vbswebapi -n MyProject -ns MyProject
```

Then navigate to the MyProject folder created, inspect the code, and now all files are prefixed with the given namespace.

For example, Startup.cs in the API project is in namespace MyProject.API.

Make sure that after the project is created you perform:

```
$ dotnet restore
```